---
title: "大话微服务"
date: 2019-03-02T11:30:30+08:00
lastmod: 2019-03-02T11:30:30+08:00
draft: true
tags:
-
categories:
-
---

# 微服务的特点

## 设计初衷

宏服务在大规模开发中，难免出现代码耦合，维护一段时间后的代码，牵一发而动全身，工程质量难以保证。为此，提出了各种设计模式来规范代码，在一定程度上对抗这个问题，依然无法避免这个问题。

## 微服务优缺点

微服务天然解耦合，在架构上避免耦合带来的总总问题，从而保证在大规模开发中的工程质量问题。同时，能带来以下好处：

- 高灵活性，无论是修改某一微服务代码还是增减模块，都可以轻松实现
- 开发过程高效，特定的人只用负责特定的一个或多个模块，代码熟悉度高，达到代码质量更高、变更效率更高
- 模块化后，只要对接口负责，可以更加方便实现自动化测试以及 CI、CD 等
- 模块间松耦合，对于绝大多数无状态模块，可以轻松实现扩缩容
- 语言无关，特定模块可以使用更合适语言进行实现
- 可用域隔离，某一模块出现严重故障时，只影响有依赖的几个服务

没有银弹，微服务自身也有带来了巨大的挑战：

- 部署复杂性大大提高，从单节点变成了多节点
- 模块间通过网络通讯，对网络基础设施、网络配置多样性带来更高要求
- 调试复杂性大大提高，调试分布式服务和单体服务的难度不在一个量级
- 机器性能及性价比方面的限制，微服务的复杂性决定了在发挥机器同样性能的情况下，服务能力比宏服务要差一截
- 沟通成本大大提高。宏服务中，所有人看到的东西都是一样的，微服务每人只看到一个侧面，开发人员间认知不一，沟通成本大大提高

## 微服务的时代

幸运的是，随着这些年容器技术、SDN 技术、基础设施等的快速发展，限制微服务发展的这些地方，渐渐已经不成问题，这也带来了微服务在当前这个时代大放异彩。

但是，微服务依然不是银弹，如果你的软件规模不大或者不准备长期维护，使用微服务只会徒增烦恼。某些业务上决定了模块间耦合严重的软件也不适合微服务化。

# 微服务架构的发展



- 服务拆分 分层 DDD 耦合、事务处理
- 监控
- 日志
- 
- 数据补全